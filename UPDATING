#!/bin/bash

# How to update this package!

# Don't actually run this as a shell script - it's part pseudocode
exit

# Cleans things up
makepkg -oecd

# Check https://projects.archlinux.org/svntogit/packages.git/log/trunk?h=packages/linux
# Bump pkgver, pkgrel
# Sync any new PKGBUILD logic, important patches, configs or other changes
# update hashes

# prepare sources
makepkg -o

# may prompt for oldconfig

# do a checkup
cd src/linux-${pkgver}
make nconfig
# save as .config, then quit

# last check
diff ../../config.x86_64 .config

# move it back
cd ../..
cp src/linux-${pkgver}/.config config.x86_64

# update md5s + git

# finally:
makepkg -c
